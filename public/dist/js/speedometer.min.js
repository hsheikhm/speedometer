/*! speedometer 17-06-2016 */
!function(){"use strict";var a=angular.module("speedometerApp",["ngRoute","ngResource","ngAnimate","speedometerAppControllers","speedometerAppFactories"]);a.config(["$routeProvider",function(a){a.when("/speedometer",{templateUrl:"src/views/main-page.html",controller:"MainCtrl",controllerAs:"main"}).otherwise({redirectTo:"/speedometer"})}])}(),function(){"use strict";var a=angular.module("speedometerAppControllers",[]);a.controller("MainCtrl",["$scope","$interval","$route","Speedometer","Countdown",function(a,b,c,d,e){var f=new d,g=new e;a.mainNumber=f.generateRandomNumber(),a.mainNumberBackgroundColor=f.backgroundColors[0],a.countdownDisplayOn=!1,a.increase=function(){f.increaseInterval(),a.updateInteval()},a.decrease=function(){f.decreaseInterval(),a.updateInteval()},a.updateInteval=function(){a.intervalNumberParts=f.updateInterval()},a.updateInteval(),a.startTimer=function(){a.countdownDisplayOn=!0,g.setTo(f.interval),a.updateCountdown(),a.intervalTimer=b(a.changeMainNumber,1e3*f.interval),a.countdownTimer=b(a.startCountdown,1e3)},a.changeMainNumber=function(){a.mainNumber=f.generateRandomNumber()},a.startCountdown=function(){g.play(),a.updateCountdown()},a.updateCountdown=function(){g.isFinished()&&(g.setTo(f.interval),a.changeBackgroundColor()),a.countdownNumberParts=g.updateNumber()},a.changeBackgroundColor=function(){a.mainNumberBackgroundColor=f.chooseBackgroundColor()},a.stopTimer=function(){b.cancel(a.intervalTimer),b.cancel(a.countdownTimer),a.countdownDisplayOn=!1},a.refreshPage=function(){c.reload()}}])}(),function(){var a=angular.module("speedometerAppFactories",[]);a.factory("Speedometer",function(){function a(){this.interval=5,this.generateRandomNumber=function(){return Math.floor(100*Math.random())+1},this.increaseInterval=function(){this.interval++,this.updateInterval()},this.decreaseInterval=function(){this.intervalIsAboveOne()&&this.interval--,this.updateInterval()},this.intervalIsAboveOne=function(){return 1!==this.interval},this.formatInterval=function(){var a=this.interval;return 10>a?"0"+a.toString():a.toString()},this.updateInterval=function(){return this.formatInterval().split("")},this.backgroundColors=["#ef5350","#ec407a","#880e4f","#9c27b0","#512da8","#3949ab","#2196f3","#0097a7","#00897b","#388e3c","#ff9800","#6d4c41","#607d8b","#000000"],this.chooseBackgroundColor=function(){return this.backgroundColors[Math.floor(Math.random()*this.backgroundColors.length)]}}return a}),a.factory("Countdown",function(){function a(){this.number=0,this.setTo=function(a){this.number=a},this.play=function(){this.number--},this.isFinished=function(){return 0===this.number},this.formatNumber=function(){var a=this.number;return 10>a?"0"+a.toString():a.toString()},this.updateNumber=function(){return this.formatNumber().split("")}}return a})}();